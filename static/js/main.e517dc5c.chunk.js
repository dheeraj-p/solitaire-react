(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(21)},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),s=a.n(i),l=a(1),c=a(2),u=a(5),o=a(4),d=a(6),C=a(12),p=a(8),h=a(7),f=a(3),v=a.n(f),k=(a(19),function(){function e(t,a){Object(l.a)(this,e),this.suite=t,this.number=a,this.opened=!1}return Object(c.a)(e,[{key:"getSuite",value:function(){return this.suite}},{key:"getNumber",value:function(){return this.number}},{key:"open",value:function(){this.opened=!0}},{key:"close",value:function(){this.opened=!1}},{key:"isOpened",value:function(){return this.opened}},{key:"getColor",value:function(){return{heart:"red",spade:"black",diamond:"red",club:"black"}[this.suite]}},{key:"equals",value:function(e){return this.number==e.number&&this.suite==e.suite}}]),e}()),m=function(){function e(t){Object(l.a)(this,e),this.cards=t}return Object(c.a)(e,[{key:"getCards",value:function(){return this.cards.map(function(e){return new k(e.getSuite(),e.getNumber())})}},{key:"take",value:function(e){return this.cards.splice(0,e)}},{key:"takeAll",value:function(){return this.cards.splice(0,this.cards.length)}}],[{key:"create",value:function(){var t=v.a.range(1,14),a=v.a.product(["spade","heart","diamond","club"],t).map(function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return new k(a,n)});return new e(v.a.shuffle(a))}}]),e}(),b=(a(20),function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isNullCard",value:function(){return 0===this.props.card.getNumber()}},{key:"getUnicode",value:function(){var e=this.props.card;if(!e.isOpened())return 127136;var t=e.getNumber(),a=t>11?t+1:t;return{heart:127152,spade:127136,diamond:127168,club:127184}[e.getSuite()]+a}},{key:"render",value:function(){var e=this.props.card,t=e.isOpened()?e.getColor():"black",a=e.isOpened()?this.props.onClick:this.props.onClickClosedCard,n={color:t},i="card-container";return this.isNullCard()&&(i+=" null-card",n.color="#055b45",a=this.props.nullCardOnClick),this.props.isSelected&&(i+=" selected-card"),r.a.createElement("div",{className:i,style:n,id:this.props.id,onClick:a},String.fromCodePoint(this.getUnicode()))}}]),t}(r.a.Component)),O=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isPileEmpty",value:function(){return 0==this.props.pile.length}},{key:"render",value:function(){var e=this,t=this.props.pile;if(this.isPileEmpty()){var a=new k("",0);t.push(a)}var n=t.map(function(t){var a="".concat(t.getSuite(),"_").concat(t.getNumber(),"_").concat(e.props.id),n=a==e.props.lastSelectedCard;return r.a.createElement(b,{card:t,key:a,id:a,onClick:e.props.cardOnClick,onClickClosesCard:null,nullCardOnClick:e.props.cardOnClick,isSelected:n})});return r.a.createElement("div",{className:"pile"},n)}}]),t}(r.a.Component),y=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getCardId",value:function(e){return"".concat(e.getSuite(),"_").concat(e.getNumber(),"_").concat(this.props.id)}},{key:"render",value:function(){var e=this.props.cards,t=v.a.last(e.openedCards),a=v.a.last(e.closedCards),n=this.getCardId(t),i=n==this.props.lastSelectedCard;return r.a.createElement("div",{style:{display:"flex",marginTop:"120px",marginLeft:"45px"}},r.a.createElement("div",{style:{marginRight:"10px"}},r.a.createElement(b,{card:a,onClickClosedCard:this.props.onClickDeck,nullCardOnClick:this.props.onClickEmptyDeck})),r.a.createElement("div",null,r.a.createElement(b,{card:t,key:n,onClick:this.props.onClickedWastePileOpenedCard,nullCardOnClick:null,isSelected:i})),r.a.createElement("div",null))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={deck:m.create(),lastSelectedCard:null,wastePileCards:{openedCards:[],closedCards:[]}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"initializePiles",value:function(){var e=this;this.setState(function(t){for(var a=new Array(7),n=0;n<a.length;n++)a[n]=t.deck.take(n+1),e.openLastCardOfPile(a[n]);return Object(h.a)({},t,{piles:a})})}},{key:"initializeWastePile",value:function(){this.setState(function(e){var t=new k("",0),a=[t],n=[t];return n=n.concat(e.deck.takeAll()),Object(h.a)({},e,{wastePileCards:{openedCards:a,closedCards:n}})})}},{key:"componentWillMount",value:function(){this.initializePiles(),this.initializeWastePile()}},{key:"isACardAlreadySelected",value:function(){return null!=this.state.lastSelectedCard}},{key:"areOfDifferentColors",value:function(e,t){return e.getColor()!==t.getColor()}},{key:"doesCardMatch",value:function(e,t,a){return e.getSuite()==a&&e.getNumber()==t}},{key:"isCardMoveable",value:function(e,t){var a=this.areOfDifferentColors(e,t)&&e.getNumber()==t.getNumber()+1,n=0===e.getNumber(),r=13===t.getNumber();return a||n&&r}},{key:"openLastCardOfPile",value:function(e){var t=v.a.last(e);void 0!=t&&t.open()}},{key:"getIndexOfCardInPile",value:function(e,t){return v.a.findIndex(t,function(t){return e.equals(t)})}},{key:"removeCardsInPileFrom",value:function(e,t){var a=this.getIndexOfCardInPile(e,t);return v.a.remove(t,function(e,t){return t>=a})}},{key:"removeNullCard",value:function(e){var t=new k("",0);v.a.remove(e,function(e){return e.equals(t)})}},{key:"isLastSelectedCardInWastePile",value:function(){return"WASTE_PILE"==this.state.lastSelectedCardSource}},{key:"isNullCard",value:function(e){return 0===e.getNumber()}},{key:"moveCardFromWastePileTo",value:function(e,t){var a=v.a.last(this.state.wastePileCards.openedCards);this.isCardMoveable(t,a)&&(this.state.wastePileCards.openedCards.pop(),e.push(a),this.removeNullCard(e))}},{key:"moveCards",value:function(e,t){var a=this,n=e.split("_"),r=Object(p.a)(n,3),i=r[0],s=r[1],l=r[2],c=t.split("_"),u=Object(p.a)(c,3),o=u[0],d=u[1],h=u[2],f=Object(C.a)(this.state.piles),v=f[h],k=f[l],m=f[l].find(function(e){return a.doesCardMatch(e,s,i)});if(this.isLastSelectedCardInWastePile())return this.moveCardFromWastePileTo(k,m),f;var b=f[h].find(function(e){return a.doesCardMatch(e,d,o)});if(!this.isCardMoveable(m,b))return f;this.removeNullCard(k);var O=this.removeCardsInPileFrom(b,v);return f[l]=k.concat(O),this.openLastCardOfPile(v),f}},{key:"onClickTableauCard",value:function(e){var t=e.target.id;if(this.isACardAlreadySelected()){var a=this.state.lastSelectedCard,n=this.moveCards(t,a);this.setState(function(e){return Object(h.a)({},e,{piles:n,lastSelectedCard:null})})}else this.setState(function(e){return Object(h.a)({},e,{lastSelectedCard:t,lastSelectedCardSource:"TABLEAU_PILE"})})}},{key:"onClickDeck",value:function(){this.setState(function(e){var t=e.wastePileCards.closedCards.pop();return t.open(),e.wastePileCards.openedCards.push(t),console.log("Aa rha h"),e})}},{key:"onClickEmptyDeck",value:function(){this.setState(function(e){var t=e.wastePileCards.openedCards,a=t.splice(1,t.length).map(function(e){return e.close(),e}).reverse();return e.wastePileCards.closedCards=e.wastePileCards.closedCards.concat(a),e})}},{key:"onClickedWastePileOpenedCard",value:function(e){this.setState(Object(h.a)({},this.state,{lastSelectedCard:e.target.id,lastSelectedCardSource:"WASTE_PILE"}))}},{key:"render",value:function(){var e=this,t=this.state.piles;return r.a.createElement("div",null,r.a.createElement(y,{cards:this.state.wastePileCards,lastSelectedCard:this.state.lastSelectedCard,onClickDeck:this.onClickDeck.bind(this),onClickEmptyDeck:this.onClickEmptyDeck.bind(this),onClickedWastePileOpenedCard:this.onClickedWastePileOpenedCard.bind(this)}),r.a.createElement("div",{className:"tableau"},t.map(function(t,a){return r.a.createElement(O,{pile:t,id:a,key:a,cardOnClick:e.onClickTableauCard.bind(e),lastSelectedCard:e.state.lastSelectedCard})})))}}]),t}(r.a.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null)}}]),t}(n.Component);s.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.e517dc5c.chunk.js.map